# –î–æ–±–∞–≤—å—Ç–µ —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –≤ —Ä–∞–∑–¥–µ–ª –ö–û–ú–ê–ù–î–´ –°–¢–ê–†–®–ï–ô –ê–î–ú–ò–ù–ò–°–¢–†–ê–¶–ò–ò –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã "–°–±—Ä–æ—Å–≤—Å–µ—Ö"

@admin_labeler.message(text=["!–°–±—Ä–æ—Å", "!—Å–±—Ä–æ—Å", "–°–±—Ä–æ—Å", "—Å–±—Ä–æ—Å"])
async def reset_fitness_halls_prices_handler(message: Message):
    """–°–±—Ä–æ—Å —Ü–µ–Ω –Ω–∞ —Ñ–∏—Ç–Ω–µ—Å-–∑–∞–ª—ã (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å—Ç–∞—Ä—à–µ–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏)"""
    user_id = message.from_id
    
    if not await is_admin(user_id):
        return "‚ùå –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –∫–æ–º–∞–Ω–¥—É!"
    
    admin_level = await get_admin_access_level(user_id)
    
    if admin_level not in [1, 2]:
        return "‚ùå –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –°—Ç–∞—Ä—à–µ–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –°–æ–∑–¥–∞—Ç–µ–ª—é!"
    
    try:
        # –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–∫—É–ø–æ–∫ –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤
        # –í–ê–ñ–ù–û: –í–∞–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –≤ db.py
        # from bot.db import reset_all_daily_purchases
        # await reset_all_daily_purchases()
        
        # –ü–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∑–∞–≥–ª—É—à–∫—É –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
        # –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –≤ db.py —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É –≤—ã—à–µ
        
        admin = await get_player(user_id)
        admin_nickname = admin.get("admin_nickname", admin["username"]) if admin else "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä"
        
        # –õ–æ–≥–∏—Ä—É–µ–º –¥–µ–π—Å—Ç–≤–∏–µ
        await log_admin_action(
            user_id,
            "reset_halls_prices",
            0,
            "–°–±—Ä–æ—Å–∏–ª —Ü–µ–Ω—ã –Ω–∞ —Ñ–∏—Ç–Ω–µ—Å-–∑–∞–ª—ã",
            None
        )
        
        return (
            f"‚úÖ –¶–µ–Ω—ã –Ω–∞ —Ñ–∏—Ç–Ω–µ—Å-–∑–∞–ª—ã —É—Å–ø–µ—à–Ω–æ —Å–±—Ä–æ—à–µ–Ω—ã!\n\n"
            f"üìä –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ü–µ–Ω:\n"
            f"üè¢ –°—Ç–∞—Ä—Ç–æ–≤–∞—è —Ü–µ–Ω–∞: 35 –º–æ–Ω–µ—Ç\n"
            f"üìà –£–≤–µ–ª–∏—á–µ–Ω–∏–µ: +5 –º–æ–Ω–µ—Ç –∑–∞ –∫–∞–∂–¥—ã–π –∑–∞–ª\n\n"
            f"üí° –¢–µ–ø–µ—Ä—å –∏–≥—Ä–æ–∫–∏ –º–æ–≥—É—Ç –ø–æ–∫—É–ø–∞—Ç—å –∑–∞–ª—ã –ø–æ –Ω–æ–≤–æ–π —Ü–µ–Ω–µ\n"
            f"üëÆ –°–±—Ä–æ—Å–∏–ª: [id{user_id}|{admin_nickname}]"
        )
        
    except Exception as e:
        return f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–±—Ä–æ—Å–µ —Ü–µ–Ω: {str(e)}"
